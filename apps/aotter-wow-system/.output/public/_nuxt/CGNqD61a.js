import{_ as W}from"./BiOihQpM.js";import{_ as A,r as g,f as S,l as N,c as m,a as t,b as x,w as f,u as o,m as T,i as I,d as _,t as a,F as $,p as M,q as j,o as d,k as B,h as O}from"./C5HONyTf.js";import{u as V}from"./Bqc3Q5j0.js";const F={class:"wow-container py-8"},L={class:"wow-card wow-fade-in mb-8"},P={class:"text-center"},U={class:"flex flex-col sm:flex-row gap-4 justify-center"},q={class:"mb-8"},z={class:"flex justify-between items-center mb-6"},E=["disabled"],H={key:0,class:"text-center py-8"},G={key:1,class:"wow-card bg-red-50 border-red-200 text-red-800"},J={class:"text-sm mt-1"},K={key:2,class:"wow-grid"},Q=["onClick"],R={class:"flex items-center justify-between mb-4"},X={class:"flex items-center space-x-3"},Y={class:"wow-avatar"},Z={class:"font-medium text-gray-900 dark:text-white"},tt={class:"text-sm text-gray-500 dark:text-gray-400"},et={class:"wow-badge wow-badge-primary"},st={class:"mb-4"},ot={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},at={class:"text-gray-600 dark:text-gray-400 line-clamp-3"},rt={class:"flex items-center justify-between"},nt={class:"flex items-center space-x-4"},it=["onClick"],dt={class:"text-sm text-gray-500 dark:text-gray-400"},lt={key:3,class:"text-center py-12"},ct={class:"wow-card"},mt={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},wt={class:"text-center"},xt={class:"text-3xl font-bold text-primary-600 mb-2"},ut={class:"text-center"},_t={class:"text-3xl font-bold text-primary-600 mb-2"},gt={class:"text-center"},ft={class:"text-3xl font-bold text-primary-600 mb-2"},yt={class:"text-center"},pt={class:"text-3xl font-bold text-primary-600 mb-2"},ht={__name:"home",setup(vt){V({title:"首頁 - Aotter Wow 系統",meta:[{name:"description",content:"Aotter Wow 系統首頁，探索社群貼文和 Wow 評價功能"}]});const l=g([]),w=g(!1),u=g(""),i=S({users:0,posts:0,wows:0,categories:0}),y=async()=>{w.value=!0,u.value="";try{await new Promise(s=>setTimeout(s,1e3)),l.value=[{id:"post_1",title:"歡迎來到 Aotter Wow！",content:"這是我們平台的第一篇貼文，歡迎大家多多發文互動！讓我們一起建立一個充滿正能量的社群空間。",wowCount:15,createdAt:new Date().toISOString(),author:{username:"admin",profile:{displayName:"系統管理員"}},category:{name:"公告",color:"#3b82f6"}},{id:"post_2",title:"今天的午餐真美味！",content:"在市中心發現了一家超讚的小餐廳，他們的義大利麵簡直是人間美味！推薦給大家。",wowCount:8,createdAt:new Date(Date.now()-36e5).toISOString(),author:{username:"foodlover",profile:{displayName:"美食愛好者"}},category:{name:"美食",color:"#f97316"}},{id:"post_3",title:"週末登山行",content:"這個週末去了陽明山，風景真的很美！空氣清新，心情都變好了。大家也來親近大自然吧！",wowCount:12,createdAt:new Date(Date.now()-72e5).toISOString(),author:{username:"hiker",profile:{displayName:"登山愛好者"}},category:{name:"旅遊",color:"#eab308"}}],i.users=128,i.posts=l.value.length,i.wows=l.value.reduce((s,e)=>s+e.wowCount,0),i.categories=8}catch(s){console.error("Fetch posts error:",s),u.value="載入貼文時發生錯誤"}finally{w.value=!1}},b=async s=>{try{if((await $fetch("/api/wows",{method:"POST",body:{postId:s,category:"like"}})).success){const c=l.value.find(r=>r.id===s);c&&c.wowCount++}}catch(e){console.error("Wow error:",e)}},k=s=>s.substring(0,2).toUpperCase(),C=s=>new Date(s).toLocaleDateString("zh-TW"),D=s=>{const e=new Date(s),r=new Date-e;return r<6e4?"剛剛":r<36e5?`${Math.floor(r/6e4)} 分鐘前`:r<864e5?`${Math.floor(r/36e5)} 小時前`:`${Math.floor(r/864e5)} 天前`};return N(()=>{y()}),(s,e)=>{const c=W,r=j("Icon");return d(),m("div",F,[t("div",L,[t("div",P,[e[2]||(e[2]=t("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"}," 歡迎來到 Aotter Wow 系統 ",-1)),e[3]||(e[3]=t("p",{class:"text-lg text-gray-600 dark:text-gray-400 mb-6"}," 一個以 Wow 評價為核心的社群貼文平台 ",-1)),t("div",U,[x(c,{to:"/create",class:"wow-button"},{default:f(()=>e[0]||(e[0]=[_(" 開始發文 ")])),_:1,__:[0]}),x(c,{to:"/ranking",class:"wow-button-secondary"},{default:f(()=>e[1]||(e[1]=[_(" 查看排行榜 ")])),_:1,__:[1]})])])]),t("div",q,[t("div",z,[e[4]||(e[4]=t("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"最新貼文",-1)),t("button",{onClick:y,disabled:o(w),class:"wow-button-secondary"},[o(w)?(d(),T(r,{key:0,name:"heroicons:arrow-path",class:"w-4 h-4 animate-spin mr-2"})):I("",!0),_(" "+a(o(w)?"載入中...":"重新整理"),1)],8,E)]),o(w)&&o(l).length===0?(d(),m("div",H,e[5]||(e[5]=[t("div",{class:"wow-loading mx-auto mb-4"},null,-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"載入貼文中...",-1)]))):o(u)?(d(),m("div",G,[e[6]||(e[6]=t("p",{class:"font-medium"},"載入失敗",-1)),t("p",J,a(o(u)),1)])):o(l).length>0?(d(),m("div",K,[(d(!0),m($,null,M(o(l),n=>{var p,h,v;return d(),m("div",{key:n.id,class:"wow-card wow-card-hover",onClick:()=>("navigateTo"in s?s.navigateTo:o(B))(`/posts/${n.id}`)},[t("div",R,[t("div",X,[t("div",Y,a(k(((p=n.author)==null?void 0:p.username)||"U")),1),t("div",null,[t("h3",Z,a(((h=n.author)==null?void 0:h.username)||"匿名用戶"),1),t("p",tt,a(C(n.createdAt)),1)])]),t("div",et,a(((v=n.category)==null?void 0:v.name)||"未分類"),1)]),t("div",st,[t("h4",ot,a(n.title),1),t("p",at,a(n.content),1)]),t("div",rt,[t("div",nt,[t("button",{onClick:O(bt=>b(n.id),["stop"]),class:"flex items-center space-x-2 text-purple-600 hover:text-purple-700 transition-colors"},[x(r,{name:"heroicons:heart",class:"w-5 h-5"}),t("span",null,a(n.wowCount||0),1)],8,it)]),t("time",dt,a(D(n.createdAt)),1)])],8,Q)}),128))])):(d(),m("div",lt,[x(r,{name:"heroicons:document-text",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"還沒有貼文",-1)),e[9]||(e[9]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},"成為第一個發文的人吧！",-1)),x(c,{to:"/create",class:"wow-button"},{default:f(()=>e[7]||(e[7]=[_(" 發表第一篇貼文 ")])),_:1,__:[7]})]))]),t("div",ct,[e[14]||(e[14]=t("h2",{class:"text-2xl font-semibold mb-6 text-center"},"平台統計",-1)),t("div",mt,[t("div",wt,[t("div",xt,a(o(i).users),1),e[10]||(e[10]=t("div",{class:"text-gray-600 dark:text-gray-400"},"註冊用戶",-1))]),t("div",ut,[t("div",_t,a(o(i).posts),1),e[11]||(e[11]=t("div",{class:"text-gray-600 dark:text-gray-400"},"總貼文數",-1))]),t("div",gt,[t("div",ft,a(o(i).wows),1),e[12]||(e[12]=t("div",{class:"text-gray-600 dark:text-gray-400"},"Wow 評價",-1))]),t("div",yt,[t("div",pt,a(o(i).categories),1),e[13]||(e[13]=t("div",{class:"text-gray-600 dark:text-gray-400"},"分類數量",-1))])])])])}}},Wt=A(ht,[["__scopeId","data-v-758cd735"]]);export{Wt as default};
