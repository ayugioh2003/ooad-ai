import{_ as b}from"./BiOihQpM.js";import{u as k}from"./Bqc3Q5j0.js";import{e as C,r as h,l as D,c as o,a as t,d as a,b as u,w as d,m as z,u as c,F as w,t as n,x as B,i as L,p as j,k as V,o as s}from"./C5HONyTf.js";const M={class:"min-h-screen bg-gray-50"},W={class:"bg-white shadow-sm border-b"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},A={class:"flex justify-between items-center h-16"},H={class:"hidden md:block"},I={class:"ml-10 flex items-baseline space-x-4"},S={class:"flex items-center space-x-4"},T={class:"text-sm text-gray-700"},F={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},P={class:"text-center mb-12"},E={key:0,class:"space-x-4"},O={class:"wow-card"},Q={key:0,class:"text-center py-8"},$={key:1,class:"text-center py-8 text-gray-500"},q={key:2,class:"space-y-4"},G={class:"flex items-start justify-between"},J={class:"flex-1"},K={class:"text-lg font-semibold text-gray-900 mb-2"},R={class:"text-gray-600 mb-3"},U={class:"flex items-center space-x-4 text-sm text-gray-500"},X={class:"flex items-center space-x-2"},Y={class:"flex items-center space-x-1 text-purple-600 hover:text-purple-700"},Z={class:"text-center mt-6"},at=C({__name:"index",setup(tt){k({title:"Aotter Wow - 正向評價社群"});const x=h(null),p=h([]),m=h(!0),y=l=>new Date(l).toLocaleDateString("zh-TW"),f=async()=>{try{await $fetch("/api/auth/logout",{method:"POST"}),x.value=null,await V("/auth")}catch(l){console.error("Logout error:",l)}},_=async()=>{try{m.value=!0,p.value=[{id:1,title:"超可愛的小貓咪",content:"今天在公園遇到一隻超可愛的小貓，真的太療癒了！",publishDate:new Date,authorId:1,categoryId:1,wowCount:15,author:{id:1,username:"愛貓人士"},category:{id:1,name:"動物"}},{id:2,title:"美味的拉麵店",content:"發現一家超好吃的拉麵店，湯頭濃郁，麵條Q彈，強烈推薦！",publishDate:new Date(Date.now()-864e5),authorId:2,categoryId:2,wowCount:23,author:{id:2,username:"美食探險家"},category:{id:2,name:"美食"}}]}catch(l){console.error("Load posts error:",l)}finally{m.value=!1}};return D(()=>{_()}),(l,e)=>{const i=b;return s(),o("div",M,[t("nav",W,[t("div",N,[t("div",A,[e[4]||(e[4]=t("div",{class:"flex items-center"},[t("h1",{class:"text-2xl font-bold text-gray-900"},[a(" Aotter "),t("span",{class:"text-purple-600"},"Wow")])],-1)),t("div",H,[t("div",I,[u(i,{to:"/",class:"text-gray-900 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium"},{default:d(()=>e[0]||(e[0]=[a(" 首頁 ")])),_:1,__:[0]}),u(i,{to:"/ranking",class:"text-gray-500 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium"},{default:d(()=>e[1]||(e[1]=[a(" Wow 排行榜 ")])),_:1,__:[1]}),u(i,{to:"/create",class:"text-gray-500 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium"},{default:d(()=>e[2]||(e[2]=[a(" 發表貼文 ")])),_:1,__:[2]})])]),t("div",S,[c(x)?(s(),o(w,{key:0},[t("span",T,"歡迎，"+n(c(x).username),1),t("button",{onClick:f,class:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors"}," 登出 ")],64)):(s(),z(i,{key:1,to:"/auth",class:"wow-button"},{default:d(()=>e[3]||(e[3]=[a(" 登入 / 註冊 ")])),_:1,__:[3]}))])])])]),t("main",F,[t("div",P,[e[7]||(e[7]=t("h2",{class:"text-4xl font-bold text-gray-900 mb-4"}," 歡迎來到 Aotter Wow ",-1)),e[8]||(e[8]=t("p",{class:"text-xl text-gray-600 mb-8"}," 分享美好事物，給予正向評價，讓世界更加美好！ ",-1)),c(x)?L("",!0):(s(),o("div",E,[u(i,{to:"/auth",class:"wow-button"},{default:d(()=>e[5]||(e[5]=[a(" 立即加入 ")])),_:1,__:[5]}),e[6]||(e[6]=t("button",{class:"bg-white hover:bg-gray-50 text-purple-600 border border-purple-600 font-bold py-2 px-4 rounded-lg transition-all duration-200"}," 了解更多 ",-1))]))]),e[13]||(e[13]=B('<div class="grid md:grid-cols-3 gap-8 mb-12"><div class="wow-card text-center"><div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2">發表貼文</h3><p class="text-gray-600">分享你的美好體驗，讓其他人也能發現好事物</p></div><div class="wow-card text-center"><div class="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2">給予 Wow</h3><p class="text-gray-600">對喜歡的內容給予 Wow 評價，傳遞正向能量</p></div><div class="wow-card text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2">查看排行</h3><p class="text-gray-600">探索最受歡迎的內容，發現更多精彩</p></div></div>',1)),t("div",O,[e[12]||(e[12]=t("h3",{class:"text-2xl font-bold text-gray-900 mb-6"},"最新貼文",-1)),c(m)?(s(),o("div",Q,e[9]||(e[9]=[t("div",{class:"inline-flex items-center"},[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-purple-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),a(" 載入中... ")],-1)]))):c(p).length===0?(s(),o("div",$," 還沒有任何貼文，成為第一個發文的人吧！ ")):(s(),o("div",q,[(s(!0),o(w,null,j(c(p),r=>{var v,g;return s(),o("div",{key:r.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",G,[t("div",J,[t("h4",K,n(r.title),1),t("p",R,n(r.content),1),t("div",U,[t("span",null,n((v=r.author)==null?void 0:v.username),1),t("span",null,n((g=r.category)==null?void 0:g.name),1),t("span",null,n(y(r.publishDate)),1)])]),t("div",X,[t("button",Y,[e[10]||(e[10]=t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),t("span",null,n(r.wowCount),1)])])])])}),128))])),t("div",Z,[u(i,{to:"/posts",class:"text-purple-600 hover:text-purple-700 font-medium"},{default:d(()=>e[11]||(e[11]=[a(" 查看更多貼文 → ")])),_:1,__:[11]})])])])])}}});export{at as default};
