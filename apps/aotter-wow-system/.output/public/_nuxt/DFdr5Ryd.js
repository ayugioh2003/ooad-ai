import{_ as y}from"./BiOihQpM.js";import{u as h}from"./Bqc3Q5j0.js";import{r as m,s as k,c,a as e,x as I,u as t,b as C,w as A,t as o,i as x,n as N,o as d,d as P}from"./C5HONyTf.js";const S={class:"wow-container py-8"},$={class:"wow-card mb-8"},L={key:0,class:"space-y-4"},V={class:"flex space-x-4"},W={key:1,class:"space-y-4"},T={class:"text-green-600"},B={class:"wow-card mb-8"},D={class:"space-y-4"},O={class:"flex items-center space-x-4"},R=["disabled"],U=["disabled"],J={class:"font-medium"},z={class:"text-sm mt-1"},E={key:0,class:"text-xs mt-2 p-2 bg-gray-100 rounded"},H={class:"wow-card mb-8"},j={class:"space-y-4"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={key:0,class:"p-4 bg-gray-50 rounded-md"},G={class:"text-sm overflow-auto"},Y={__name:"test",setup(K){h({title:"功能測試 - Aotter Wow 系統"});const r=m(null),f=k(()=>!!r.value),i=m(!1),l=m(null),p=m(null),v=()=>{r.value={id:"user_1",username:"testuser",email:"test@example.com"}},_=()=>{r.value=null,l.value=null},g=async(u,s)=>{var a;i.value=!0,l.value=null;try{const n=await $fetch("/api/wows",{method:"POST",body:{postId:u,category:s}});l.value={success:!0,message:"成功發送 Wow 評價！",data:n}}catch(n){l.value={success:!1,message:((a=n.data)==null?void 0:a.message)||n.message||"發送失敗"}}finally{i.value=!1}},b=async u=>{var s;try{const a=await $fetch(u);p.value=a}catch(a){p.value={error:!0,message:((s=a.data)==null?void 0:s.message)||a.message||"API 呼叫失敗"}}};return(u,s)=>{var n;const a=y;return d(),c("div",S,[e("div",$,[s[6]||(s[6]=e("h2",{class:"text-2xl font-semibold mb-4"},"用戶狀態管理測試",-1)),t(f)?(d(),c("div",W,[e("p",T,"已登入用戶："+o((n=t(r))==null?void 0:n.username),1),e("button",{onClick:_,class:"wow-button-secondary"}," 登出 ")])):(d(),c("div",L,[s[5]||(s[5]=e("p",{class:"text-gray-600"},"目前未登入",-1)),e("div",V,[e("button",{onClick:v,class:"wow-button"}," 模擬登入 "),C(a,{to:"/auth",class:"wow-button-secondary"},{default:A(()=>s[4]||(s[4]=[P(" 前往登入頁 ")])),_:1,__:[4]})])]))]),e("div",B,[s[8]||(s[8]=e("h2",{class:"text-2xl font-semibold mb-4"},"Wow 評價功能測試",-1)),e("div",D,[e("div",O,[s[7]||(s[7]=e("span",null,"測試貼文 ID: post_1",-1)),e("button",{onClick:s[0]||(s[0]=w=>g("post_1","like")),class:"wow-button",disabled:t(i)},o(t(i)?"處理中...":"❤️ 點讚"),9,R),e("button",{onClick:s[1]||(s[1]=w=>g("post_1","wow")),class:"wow-button",disabled:t(i)},o(t(i)?"處理中...":"😮 驚艷"),9,U)]),t(l)?(d(),c("div",{key:0,class:N(["p-4 rounded-md",t(l).success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"])},[e("p",J,o(t(l).success?"成功":"失敗"),1),e("p",z,o(t(l).message),1),t(l).data?(d(),c("pre",E,o(JSON.stringify(t(l).data,null,2)),1)):x("",!0)],2)):x("",!0)])]),e("div",H,[s[10]||(s[10]=e("h2",{class:"text-2xl font-semibold mb-4"},"API 端點測試",-1)),e("div",j,[e("div",q,[e("button",{onClick:s[2]||(s[2]=w=>b("/api/categories")),class:"wow-button-outline"}," 測試分類 API "),e("button",{onClick:s[3]||(s[3]=w=>b("/api/posts")),class:"wow-button-outline"}," 測試貼文 API ")]),t(p)?(d(),c("div",F,[s[9]||(s[9]=e("p",{class:"font-medium mb-2"},"API 回應:",-1)),e("pre",G,o(JSON.stringify(t(p),null,2)),1)])):x("",!0)])]),s[11]||(s[11]=I('<div class="wow-card"><h2 class="text-2xl font-semibold mb-4">已完成的核心功能</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-3"><h3 class="font-semibold text-green-600">✅ 已實作</h3><ul class="space-y-2 text-sm"><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>專案基礎架構 (Nuxt 3 + TypeScript)</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>資料型別定義與架構設計</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>記憶體資料庫實作</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>API 端點基礎架構</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>前端頁面與組件</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span><span>響應式 UI 設計</span></li></ul></div><div class="space-y-3"><h3 class="font-semibold text-yellow-600">🔄 進行中</h3><ul class="space-y-2 text-sm"><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-yellow-500 rounded-full"></span><span>API TypeScript 類型修正</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-yellow-500 rounded-full"></span><span>Wow 評價功能實作</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-yellow-500 rounded-full"></span><span>用戶認證狀態管理</span></li><li class="flex items-center space-x-2"><span class="w-2 h-2 bg-yellow-500 rounded-full"></span><span>貼文 CRUD 功能</span></li></ul></div></div></div>',1))])}}};export{Y as default};
