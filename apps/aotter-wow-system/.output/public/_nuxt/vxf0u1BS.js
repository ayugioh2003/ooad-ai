import{_ as j}from"./BiOihQpM.js";import{e as L,r as m,l as N,c as l,a as t,b as f,w as h,i as A,j as k,y as C,u as a,z as D,F as I,p as M,d,x as H,t as r,o as n,n as W,_ as S}from"./C5HONyTf.js";import{u as P}from"./Bqc3Q5j0.js";const T={class:"min-h-screen bg-gray-50"},F={class:"bg-white shadow-sm border-b"},R={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},U={class:"flex justify-between items-center h-16"},E={class:"flex items-center"},Q={class:"flex items-center space-x-4"},$={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},q={class:"wow-card mb-8"},G={class:"flex flex-wrap items-center gap-4"},J=["value"],K={key:0,class:"text-center py-12"},O={key:1,class:"text-center py-12"},X={class:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto"},Y={class:"text-red-600"},Z={key:2,class:"text-center py-12"},tt={class:"text-gray-500"},et={key:3,class:"space-y-4"},st={class:"flex items-start space-x-4"},ot={class:"flex-shrin-0"},at={class:"flex-1 min-w-0"},lt={class:"flex items-start justify-between"},nt={class:"flex-1"},rt={class:"text-lg font-semibold text-gray-900 mb-2"},it={class:"text-gray-600 mb-3 line-clamp-2"},dt={class:"flex items-center space-x-4 text-sm text-gray-500"},ct={class:"flex items-center"},ut={class:"flex items-center"},mt={class:"flex items-center space-x-2 ml-4"},pt={class:"flex items-center space-x-1 bg-purple-50 text-purple-600 px-3 py-2 rounded-full"},xt={class:"font-bold"},wt={key:4,class:"text-center mt-8"},gt=L({__name:"ranking",setup(vt){P({title:"Aotter Wow - Wow 排行榜"});const x=m(!0),w=m(""),g=m([]),y=m([]),p=m(""),c=m(10),z=o=>new Date(o).toLocaleDateString("zh-TW"),B=()=>{c.value+=10,u()},V=async()=>{try{const{data:o}=await $fetch("/api/categories");y.value=o||[]}catch(o){console.error("Load categories error:",o)}},u=async()=>{try{x.value=!0,w.value="",await new Promise(i=>setTimeout(i,500));const o=[{id:1,title:"超可愛的小貓咪在公園玩耍",content:"今天在公園看到一隻超級可愛的小貓咪，牠在草地上翻滾玩耍，實在太療癒了！忍不住拍了好多照片和影片，希望大家也能感受到這份可愛。",publishDate:new Date("2024-01-15"),authorId:1,categoryId:1,wowCount:156,author:{id:1,username:"愛貓人士"},category:{id:1,name:"動物"}},{id:2,title:"隱藏版美食：巷弄裡的神級拉麵店",content:"發現一家超棒的拉麵店！湯頭濃郁但不油膩，麵條Q彈有嚼勁，叉燒肉更是入口即化。老闆人很親切，價格也很實惠。強烈推薦給所有拉麵愛好者！",publishDate:new Date("2024-01-14"),authorId:2,categoryId:2,wowCount:142,author:{id:2,username:"美食探險家"},category:{id:2,name:"美食"}},{id:3,title:"陽明山賞花秘境分享",content:"春天來了！陽明山的櫻花正盛開，今天去了一個比較少人知道的賞花點，景色絕美而且人少安靜。分享給大家這個賞花秘境的位置和最佳拍照時間。",publishDate:new Date("2024-01-13"),authorId:3,categoryId:3,wowCount:128,author:{id:3,username:"旅遊達人"},category:{id:3,name:"旅遊"}},{id:4,title:"超暖心的便利商店店員",content:"昨天在便利商店遇到一位超級暖心的店員，不僅服務態度很好，還主動幫我解決了很多問題。這種優質的服務真的讓人印象深刻，必須要推薦一下！",publishDate:new Date("2024-01-12"),authorId:4,categoryId:4,wowCount:95,author:{id:4,username:"暖心市民"},category:{id:4,name:"服務"}},{id:5,title:"生活小技巧：超好用的收納方法",content:"分享一個超實用的收納小技巧！用這個方法整理衣櫃，不僅空間利用率提高了，找衣服也變得超方便。希望對大家的日常生活有幫助。",publishDate:new Date("2024-01-11"),authorId:5,categoryId:5,wowCount:87,author:{id:5,username:"生活達人"},category:{id:5,name:"生活"}}];let e=o;p.value&&(e=o.filter(i=>i.categoryId===Number(p.value))),g.value=e.slice(0,c.value)}catch(o){console.error("Load ranking error:",o),w.value="載入排行榜失敗，請稍後再試"}finally{x.value=!1}};return N(async()=>{await V(),await u()}),(o,e)=>{const i=j;return n(),l("div",T,[t("nav",F,[t("div",R,[t("div",U,[t("div",E,[f(i,{to:"/",class:"text-2xl font-bold text-gray-900"},{default:h(()=>e[2]||(e[2]=[d(" Aotter "),t("span",{class:"text-purple-600"},"Wow",-1)])),_:1,__:[2]})]),t("div",Q,[f(i,{to:"/",class:"text-gray-600 hover:text-purple-600"},{default:h(()=>e[3]||(e[3]=[d(" 回到首頁 ")])),_:1,__:[3]}),f(i,{to:"/create",class:"wow-button"},{default:h(()=>e[4]||(e[4]=[d(" 發表貼文 ")])),_:1,__:[4]})])])])]),t("main",$,[e[19]||(e[19]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-4xl font-bold text-gray-900 mb-4"}," 🏆 Wow 排行榜 "),t("p",{class:"text-xl text-gray-600"}," 發現最受歡迎的精彩內容 ")],-1)),t("div",q,[t("div",G,[t("div",null,[e[6]||(e[6]=t("label",{for:"category-filter",class:"block text-sm font-medium text-gray-700 mb-1"}," 類別篩選 ",-1)),k(t("select",{id:"category-filter","onUpdate:modelValue":e[0]||(e[0]=s=>D(p)?p.value=s:null),class:"wow-input w-48",onChange:u},[e[5]||(e[5]=t("option",{value:""},"所有類別",-1)),(n(!0),l(I,null,M(a(y),s=>(n(),l("option",{key:s.id,value:s.id},r(s.name),9,J))),128))],544),[[C,a(p)]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"limit-filter",class:"block text-sm font-medium text-gray-700 mb-1"}," 顯示數量 ",-1)),k(t("select",{id:"limit-filter","onUpdate:modelValue":e[1]||(e[1]=s=>D(c)?c.value=s:null),class:"wow-input w-32",onChange:u},e[7]||(e[7]=[t("option",{value:"10"},"前 10 名",-1),t("option",{value:"20"},"前 20 名",-1),t("option",{value:"50"},"前 50 名",-1)]),544),[[C,a(c)]])]),e[10]||(e[10]=t("div",{class:"flex-1"},null,-1)),t("button",{onClick:u,class:"bg-purple-100 hover:bg-purple-200 text-purple-700 font-medium py-2 px-4 rounded-lg transition-colors"},e[9]||(e[9]=[t("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),d(" 重新整理 ")]))])]),a(x)?(n(),l("div",K,e[11]||(e[11]=[H('<div class="inline-flex items-center" data-v-1525a6dd><svg class="animate-spin -ml-1 mr-3 h-8 w-8 text-purple-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-1525a6dd><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-1525a6dd></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-1525a6dd></path></svg><span class="text-lg text-gray-600" data-v-1525a6dd>載入排行榜中...</span></div>',1)]))):a(w)?(n(),l("div",O,[t("div",X,[t("p",Y,r(a(w)),1),t("button",{onClick:u,class:"mt-4 wow-button"}," 重試 ")])])):a(g).length===0?(n(),l("div",Z,[t("div",tt,[e[13]||(e[13]=t("svg",{class:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e[14]||(e[14]=t("p",{class:"text-lg"},"目前還沒有貼文",-1)),e[15]||(e[15]=t("p",{class:"text-sm mt-2"},"成為第一個發文的人吧！",-1)),f(i,{to:"/create",class:"wow-button mt-4 inline-block"},{default:h(()=>e[12]||(e[12]=[d(" 立即發文 ")])),_:1,__:[12]})])])):(n(),l("div",et,[(n(!0),l(I,null,M(a(g),(s,v)=>{var _,b;return n(),l("div",{key:s.id,class:"wow-card hover:shadow-lg transition-all duration-200"},[t("div",st,[t("div",ot,[t("div",{class:W(["w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg",v===0?"bg-yellow-100 text-yellow-800":v===1?"bg-gray-100 text-gray-800":v===2?"bg-orange-100 text-orange-800":"bg-purple-100 text-purple-800"])},r(v+1),3)]),t("div",at,[t("div",lt,[t("div",nt,[t("h3",rt,r(s.title),1),t("p",it,r(s.content),1),t("div",dt,[t("span",ct,[e[16]||(e[16]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),d(" "+r((_=s.author)==null?void 0:_.username),1)]),t("span",ut,[e[17]||(e[17]=t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),d(" "+r((b=s.category)==null?void 0:b.name),1)]),t("span",null,r(z(s.publishDate)),1)])]),t("div",mt,[t("div",pt,[e[18]||(e[18]=t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)),t("span",xt,r(s.wowCount),1)])])])])])])}),128))])),a(g).length>=a(c)&&!a(x)?(n(),l("div",wt,[t("button",{onClick:B,class:"bg-white hover:bg-gray-50 text-purple-600 border border-purple-600 font-bold py-2 px-6 rounded-lg transition-all duration-200"}," 顯示更多 ")])):A("",!0)])])}}}),_t=S(gt,[["__scopeId","data-v-1525a6dd"]]);export{_t as default};
